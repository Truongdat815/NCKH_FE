import{j as e,k as j,b as w,L as u,ar as N,$ as y,l as C,a9 as S,u as T}from"./dashboard-D8iSra2c.js";import{r as c}from"./react-vendor-D1TcphUO.js";import"./utils-vendor-D7BOParW.js";const D=()=>{const{showSuccess:a}=T(),[o,h]=c.useState(""),[l,r]=c.useState(!1),[i,n]=c.useState(null),[d,m]=c.useState([{id:1,name:"Phân bón",slug:"phan-bon",description:"Các loại phân bón hóa học và hữu cơ",productCount:45,status:"active",createdAt:"2025-01-01"},{id:2,name:"Thuốc BVTV",slug:"thuoc-bvtv",description:"Thuốc bảo vệ thực vật",productCount:32,status:"active",createdAt:"2025-01-02"},{id:3,name:"Hạt giống",slug:"hat-giong",description:"Hạt giống các loại cây trồng",productCount:28,status:"active",createdAt:"2025-01-03"},{id:4,name:"Thiết bị",slug:"thiet-bi",description:"Máy móc và thiết bị nông nghiệp",productCount:15,status:"active",createdAt:"2025-01-04"},{id:5,name:"Vật tư khác",slug:"vat-tu-khac",description:"Các vật tư nông nghiệp khác",productCount:8,status:"inactive",createdAt:"2025-01-05"}]),x=d.filter(t=>{var s;return t.name.toLowerCase().includes(o.toLowerCase())||((s=t.description)==null?void 0:s.toLowerCase().includes(o.toLowerCase()))}),g=t=>{window.confirm("Bạn có chắc muốn xóa danh mục này?")&&(m(d.filter(s=>s.id!==t)),a("Đã xóa danh mục thành công!"))},p=t=>{n(t),r(!0)},b=()=>{n(null),r(!0)},f=t=>{if(i)m(d.map(s=>s.id===i.id?{...s,...t}:s)),a("Đã cập nhật danh mục thành công!");else{const s={id:d.length+1,...t,slug:t.name.toLowerCase().replace(/\s+/g,"-"),productCount:0,createdAt:new Date().toISOString().split("T")[0],status:"active"};m([...d,s]),a("Đã thêm danh mục mới!")}r(!1),n(null)},v=t=>{m(d.map(s=>s.id===t?{...s,status:s.status==="active"?"inactive":"active"}:s)),a("Đã cập nhật trạng thái danh mục!")};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản Lý Danh Mục"}),e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Tổng cộng: ",x.length," danh mục"]})]}),e.jsxs("button",{onClick:b,className:"px-6 py-3 bg-emerald-600 text-white font-bold rounded-xl shadow-lg hover:bg-emerald-700 transition-all flex items-center gap-2",children:[e.jsx(j,{className:"w-5 h-5"}),"Thêm Danh Mục"]})]}),e.jsx("div",{className:"bg-white rounded-2xl p-4 border border-gray-100 shadow-sm",children:e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Tìm kiếm danh mục...",value:o,onChange:t=>h(t.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(t=>e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-xl transition-all p-6 group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center",children:e.jsx(u,{className:"w-6 h-6 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500 font-mono",children:t.slug})]})]}),e.jsx("button",{onClick:()=>v(t.id),className:`px-3 py-1 text-xs font-bold rounded-full transition-colors ${t.status==="active"?"bg-emerald-100 text-emerald-700 hover:bg-emerald-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t.status==="active"?"Hoạt động":"Vô hiệu"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-semibold",children:[t.productCount," sản phẩm"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>p(t),className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-600 hover:text-white transition-colors",title:"Sửa",children:e.jsx(y,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>g(t.id),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-600 hover:text-white transition-colors",title:"Xóa",children:e.jsx(C,{className:"w-4 h-4"})})]})]})]},t.id))}),x.length===0&&e.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-gray-100",children:[e.jsx(u,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Không tìm thấy danh mục nào"})]}),e.jsx(S,{isOpen:l,onClose:()=>{r(!1),n(null)},title:i?"Sửa Danh Mục":"Thêm Danh Mục Mới",children:e.jsx(k,{category:i,onSave:f,onCancel:()=>{r(!1),n(null)}})})]})},k=({category:a,onSave:o,onCancel:h})=>{const[l,r]=c.useState({name:(a==null?void 0:a.name)||"",description:(a==null?void 0:a.description)||""}),i=n=>{n.preventDefault(),o(l)};return e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Tên danh mục *"}),e.jsx("input",{type:"text",required:!0,value:l.name,onChange:n=>r({...l,name:n.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Mô tả"}),e.jsx("textarea",{value:l.description,onChange:n=>r({...l,description:n.target.value}),rows:4,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:h,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 font-bold rounded-xl hover:bg-gray-200 transition-colors",children:"Hủy"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors",children:a?"Cập nhật":"Thêm mới"})]})]})};export{D as default};
