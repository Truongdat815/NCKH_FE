import{j as e,P as me,q as L,b as ge,J as ue,X as G,Y as O,Z as be,_ as ve,$ as x,a0 as pe,l as fe,a1 as je,a2 as we,O as Q,a3 as Ne,a4 as $,a5 as P,a6 as J,a7 as ye,a8 as ke,u as Ce,A as Se,a9 as Te,d as Ee,aa as Le,E as $e}from"./dashboard-C0zXrU1t.js";import{r as n,L as F}from"./react-vendor-D1TcphUO.js";import{E as Pe}from"./marketplace-DOiaXSpF.js";import"./utils-vendor-D7BOParW.js";const De=()=>{var X,U;const{showSuccess:l,showError:u,showInfo:w}=Ce(),[N,R]=n.useState(""),[b,B]=n.useState({}),[v,W]=n.useState(new Set([1,3])),[y,Y]=n.useState(new Set([1])),[p,Z]=n.useState(new Set),[d,K]=n.useState("all"),[m,V]=n.useState(""),[k,I]=n.useState(new Set),[r,h]=n.useState(null),[Fe,Re]=n.useState("newest"),[Be,Ke]=n.useState(1),[f,C]=n.useState(null),[S,j]=n.useState(""),_=999,[T,ee]=n.useState(new Set),[Ve,H]=n.useState(null),[te,q]=n.useState(null),[i,g]=n.useState([{id:1,author:"LÃª VÄƒn TÃ¨o",authorId:1,avatar:"https://i.pravatar.cc/150?u=1",time:"2 giá» trÆ°á»›c",content:"LÃºa nhÃ  em Ä‘ang cÃ³ hiá»‡n tÆ°á»£ng vÃ ng lÃ¡ hÃ ng loáº¡t á»Ÿ ngá»n, khÃ´ng biáº¿t lÃ  bá»‹ bá»‡nh gÃ¬ áº¡? CÃ³ bÃ¡c nÃ o tÆ° váº¥n giÃºp em thuá»‘c Ä‘áº·c trá»‹ khÃ´ng? Em Ä‘Ã£ thá»­ má»™t sá»‘ loáº¡i thuá»‘c nhÆ°ng chÆ°a hiá»‡u quáº£ láº¯m. VÆ°á»n lÃºa nhÃ  em rá»™ng khoáº£ng 2 hecta, Ä‘Ã£ trá»“ng Ä‘Æ°á»£c 3 thÃ¡ng, gáº§n Ä‘Ã¢y báº¯t Ä‘áº§u xuáº¥t hiá»‡n cÃ¡c Ä‘á»‘m vÃ ng trÃªn lÃ¡. Em ráº¥t lo láº¯ng vÃ¬ Ä‘Ã¢y lÃ  vá»¥ mÃ¹a quan trá»ng cá»§a gia Ä‘Ã¬nh.",images:["https://images.unsplash.com/photo-1593113598332-cd288d649433?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1596462502278-27bfdc403348?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1586201375761-83865001e31c?auto=format&fit=crop&q=80&w=800"],likes:24,comments:8,shares:5,views:156,category:"Bá»‡nh cÃ¢y trá»“ng",tags:["lÃºa","bá»‡nh lÃ¡","tÆ° váº¥n"],isExpert:!1,isHot:!0,isTrending:!0,commentsList:[{id:101,author:"KS. Nguyá»…n VÄƒn A",authorId:10,avatar:"https://i.pravatar.cc/150?u=expert1",isExpert:!0,time:"1 giá» trÆ°á»›c",content:"ChÃ o bÃ¡c TÃ¨o, theo áº£nh bÃ¡c chá»¥p thÃ¬ kháº£ nÄƒng cao lÃºa Ä‘ang bá»‹ Ä‘áº¡o Ã´n lÃ¡. BÃ¡c nÃªn phun ngay cÃ¡c loáº¡i thuá»‘c chá»©a hoáº¡t cháº¥t Tricyclazole nhÆ° Filia 525SE hoáº·c Vimonco 750WP. Phun vÃ o sÃ¡ng sá»›m hoáº·c chiá»u mÃ¡t, cÃ¡ch nhau 7-10 ngÃ y.",likes:12,rewarded:500},{id:102,author:"Tráº§n Thá»‹ Lan",authorId:2,avatar:"https://i.pravatar.cc/150?u=2",isExpert:!1,time:"30 phÃºt trÆ°á»›c",content:"NhÃ  em cÅ©ng bá»‹ tÃ¬nh tráº¡ng tÆ°Æ¡ng tá»±, sau khi phun Tricyclazole thÃ¬ Ä‘Ã£ khá»i. CÃ¡c bÃ¡c thá»­ xem nhÃ©!",likes:3,rewarded:0}]},{id:2,author:"Pháº¡m VÄƒn HÃ¹ng",authorId:3,avatar:"https://i.pravatar.cc/150?u=3",time:"5 giá» trÆ°á»›c",content:"Chia sáº» kinh nghiá»‡m bÃ³n phÃ¢n cho cÃ¢y xoÃ i giai Ä‘oáº¡n ra hoa. MÃ¬nh Ä‘Ã£ thá»­ nghiá»‡m vÃ  Ä‘áº¡t káº¿t quáº£ tá»‘t vá»›i cÃ´ng thá»©c NPK 12-12-17 káº¿t há»£p vá»›i phÃ¢n há»¯u cÆ¡. Giai Ä‘oáº¡n nÃ y ráº¥t quan trá»ng, cáº§n bÃ³n Ä‘Ãºng thá»i Ä‘iá»ƒm vÃ  liá»u lÆ°á»£ng Ä‘á»ƒ Ä‘áº£m báº£o cÃ¢y ra hoa Ä‘á»u vÃ  tá»· lá»‡ Ä‘áº­u quáº£ cao.",images:["https://images.unsplash.com/photo-1591031826213-c3260701884c?auto=format&fit=crop&q=80&w=800"],likes:45,comments:15,shares:12,views:289,category:"PhÃ¢n bÃ³n",tags:["xoÃ i","phÃ¢n bÃ³n","kinh nghiá»‡m"],isExpert:!1,isHot:!1,isTrending:!0,commentsList:[{id:201,author:"KS. LÃª VÄƒn B",authorId:11,avatar:"https://i.pravatar.cc/150?u=expert2",isExpert:!0,time:"3 giá» trÆ°á»›c",content:"Cáº£m Æ¡n bÃ¡c Ä‘Ã£ chia sáº»! CÃ´ng thá»©c nÃ y ráº¥t phÃ¹ há»£p. NgoÃ i ra, cÃ¡c bÃ¡c nÃªn bá»• sung thÃªm canxi vÃ  boron Ä‘á»ƒ tÄƒng tá»· lá»‡ Ä‘áº­u quáº£.",likes:8,rewarded:300}]},{id:3,author:"Nguyá»…n Thá»‹ Mai",authorId:4,avatar:"https://i.pravatar.cc/150?u=4",time:"1 ngÃ y trÆ°á»›c",content:"Ai cÃ³ kinh nghiá»‡m trá»‹ sÃ¢u Ä‘á»¥c thÃ¢n trÃªn cÃ¢y thanh long khÃ´ng áº¡? VÆ°á»n nhÃ  em bá»‹ nhiá»…m náº·ng, cáº§n tÆ° váº¥n gáº¥p!",image:"https://images.unsplash.com/photo-1621606450007-8277f51d21c6?auto=format&fit=crop&q=80&w=800",likes:18,comments:6,shares:3,views:98,category:"SÃ¢u bá»‡nh",tags:["thanh long","sÃ¢u Ä‘á»¥c thÃ¢n","cáº§n giÃºp"],isExpert:!1,isHot:!0,isTrending:!1,commentsList:[]},{id:4,author:"KS. Tráº§n VÄƒn C",authorId:12,avatar:"https://i.pravatar.cc/150?u=expert3",time:"3 ngÃ y trÆ°á»›c",content:"BÃ i viáº¿t chuyÃªn sÃ¢u vá» ká»¹ thuáº­t trá»“ng lÃºa thÃ´ng minh Ã¡p dá»¥ng cÃ´ng nghá»‡ 4.0. MÃ¬nh sáº½ chia sáº» chi tiáº¿t vá» há»‡ thá»‘ng tÆ°á»›i tá»± Ä‘á»™ng, giÃ¡m sÃ¡t IoT vÃ  á»©ng dá»¥ng AI trong nÃ´ng nghiá»‡p.",images:["https://images.unsplash.com/photo-1523348837708-15d4a09cfac2?auto=format&fit=crop&q=80&w=800"],likes:89,comments:23,shares:34,views:567,category:"Ká»¹ thuáº­t",tags:["lÃºa","IoT","AI","nÃ´ng nghiá»‡p 4.0"],isExpert:!0,isHot:!0,isTrending:!0,commentsList:[]}]),se=[{id:10,name:"KS. Nguyá»…n VÄƒn A",avatar:"https://i.pravatar.cc/150?u=expert1",solved:245,rating:4.9,category:"Bá»‡nh cÃ¢y trá»“ng",points:5240,rank:1},{id:11,name:"KS. LÃª VÄƒn B",avatar:"https://i.pravatar.cc/150?u=expert2",solved:189,rating:4.8,category:"PhÃ¢n bÃ³n",points:4120,rank:2},{id:12,name:"KS. Tráº§n VÄƒn C",avatar:"https://i.pravatar.cc/150?u=expert3",solved:312,rating:5,category:"Ká»¹ thuáº­t",points:5980,rank:1},{id:13,name:"KS. Pháº¡m Thá»‹ D",avatar:"https://i.pravatar.cc/150?u=expert4",solved:167,rating:4.7,category:"SÃ¢u bá»‡nh",points:3210,rank:3}],ae=[{name:"Äáº¡o Ã´n lÃºa",count:156,trend:"up"},{name:"PhÃ¢n bÃ³n NPK",count:98,trend:"up"},{name:"SÃ¢u Ä‘á»¥c thÃ¢n",count:87,trend:"down"},{name:"TÆ°á»›i tiáº¿t kiá»‡m",count:76,trend:"up"},{name:"XoÃ i CÃ¡t Chu",count:65,trend:"up"}],re=["Táº¥t cáº£","Bá»‡nh cÃ¢y trá»“ng","PhÃ¢n bÃ³n","SÃ¢u bá»‡nh","Ká»¹ thuáº­t","Thá»‹ trÆ°á»ng","KhÃ¡c"],[E,A]=n.useState("Táº¥t cáº£"),ne=()=>{if(!N.trim()){u("Vui lÃ²ng nháº­p ná»™i dung bÃ i Ä‘Äƒng");return}const t={id:Date.now(),author:"Báº¡n",authorId:999,avatar:"https://i.pravatar.cc/150?u=me",time:"Vá»«a xong",content:N,likes:0,comments:0,shares:0,views:0,category:"KhÃ¡c",tags:[],isExpert:!1,isHot:!1,isTrending:!1,commentsList:[]};g([t,...i]),R(""),l("ÄÄƒng bÃ i thÃ nh cÃ´ng!")},le=t=>{C(t),j(t.content)},ie=()=>{if(!S.trim()){u("Vui lÃ²ng nháº­p ná»™i dung bÃ i Ä‘Äƒng");return}g(i.map(t=>t.id===f.id?{...t,content:S}:t)),C(null),j(""),l("ÄÃ£ cáº­p nháº­t bÃ i viáº¿t!")},de=t=>{window.confirm("Báº¡n cÃ³ cháº¯c muá»‘n xÃ³a bÃ i viáº¿t nÃ y?")&&(g(i.filter(a=>a.id!==t)),(r==null?void 0:r.id)===t&&h(null),l("ÄÃ£ xÃ³a bÃ i viáº¿t!"))},oe=t=>{g(i.map(s=>{if(s.id===t){const o=v.has(t);return{...s,likes:o?s.likes-1:s.likes+1}}return s}));const a=new Set(v);a.has(t)?(a.delete(t),w("ÄÃ£ bá» thÃ­ch")):(a.add(t),l("ÄÃ£ thÃ­ch bÃ i viáº¿t!")),W(a)},ce=t=>{const a=new Set(y);a.has(t)?(a.delete(t),w("ÄÃ£ bá» lÆ°u bÃ i viáº¿t")):(a.add(t),l("ÄÃ£ lÆ°u bÃ i viáº¿t!")),Y(a)},z=t=>{const a=new Set(p);a.has(t)?(a.delete(t),w("ÄÃ£ bá» theo dÃµi")):(a.add(t),l("ÄÃ£ theo dÃµi!")),Z(a)},he=t=>{navigator.share?navigator.share({title:"BÃ i viáº¿t tá»« AgriSmart Community",text:"Xem bÃ i viáº¿t thÃº vá»‹ nÃ y!",url:window.location.href}).then(()=>l("ÄÃ£ chia sáº»!")).catch(()=>u("KhÃ´ng thá»ƒ chia sáº»")):(navigator.clipboard.writeText(window.location.href),l("ÄÃ£ sao chÃ©p link!"))},D=t=>{const a=b[t];if(!(a!=null&&a.trim())){u("Vui lÃ²ng nháº­p bÃ¬nh luáº­n");return}g(i.map(s=>s.id===t?{...s,comments:s.comments+1,commentsList:[...s.commentsList,{id:Date.now(),author:"Báº¡n",authorId:999,avatar:"https://i.pravatar.cc/150?u=me",isExpert:!1,time:"Vá»«a xong",content:a,likes:0,rewarded:0}]}:s)),B({...b,[t]:""}),I(new Set([...k,t])),l("BÃ¬nh luáº­n thÃ nh cÃ´ng!")},xe=t=>{const a=new Set(k);a.has(t)?a.delete(t):a.add(t),I(a)},M=[...i.filter(t=>{const a=d==="all"||d==="trending"&&t.isTrending||d==="hot"&&t.isHot||d==="newest"&&!t.isHot&&!t.isTrending,s=E==="Táº¥t cáº£"||t.category===E,o=m===""||t.content.toLowerCase().includes(m.toLowerCase())||t.tags.some(c=>c.toLowerCase().includes(m.toLowerCase()))||t.author.toLowerCase().includes(m.toLowerCase());return a&&s&&o})].sort((t,a)=>d==="trending"?a.likes+a.comments-(t.likes+t.comments):d==="hot"?a.views-t.views:a.id-t.id);return e.jsxs(me,{children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 tracking-tight mb-2",children:"Cá»™ng Äá»“ng NÃ´ng DÃ¢n"}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Chia sáº» kinh nghiá»‡m, tÆ° váº¥n vÃ  há»c há»i cÃ¹ng nhau"})]}),e.jsxs(F,{to:"/ai-chat",className:"flex items-center gap-2 px-5 py-3 bg-gradient-to-r from-emerald-600 to-green-600 text-white rounded-2xl font-bold hover:shadow-xl hover:shadow-emerald-500/50 transition-all duration-300 active:scale-[0.98] group",children:[e.jsx(L,{className:"w-5 h-5"}),e.jsx("span",{children:"AI Cháº©n Ä‘oÃ¡n"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none",children:e.jsx(ge,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",value:m,onChange:t=>V(t.target.value),className:"block w-full pl-14 pr-5 py-4 bg-white border border-gray-200 rounded-2xl shadow-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200 text-base font-medium outline-none",placeholder:"TÃ¬m kiáº¿m bÃ i viáº¿t, tags, ngÆ°á»i dÃ¹ng..."})]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:[{id:"all",label:"Táº¥t cáº£",icon:ue},{id:"trending",label:"Äang hot",icon:G},{id:"hot",label:"Ná»•i báº­t",icon:O},{id:"newest",label:"Má»›i nháº¥t",icon:be}].map(t=>e.jsxs("button",{onClick:()=>K(t.id),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl font-bold text-sm transition-all duration-200 ${d===t.id?"bg-emerald-600 text-white shadow-lg shadow-emerald-200/50":"bg-white text-gray-600 hover:bg-emerald-50 hover:text-emerald-600 border border-gray-200"}`,children:[e.jsx(t.icon,{className:"w-4 h-4"}),t.label]},t.id))}),e.jsx("div",{className:"flex flex-wrap gap-2",children:re.map(t=>e.jsx("button",{onClick:()=>A(t),className:`px-4 py-2 rounded-xl font-bold text-xs transition-all duration-200 ${E===t?"bg-emerald-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-emerald-100 hover:text-emerald-700"}`,children:t},t))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 hover:shadow-xl transition-all duration-500 hover-lift",children:[e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("img",{src:"https://i.pravatar.cc/150?u=me",alt:"me",className:"w-12 h-12 rounded-full border-2 border-emerald-100 flex-shrink-0 ring-2 ring-transparent hover:ring-emerald-200 transition-all duration-300 hover:scale-110"}),e.jsx("textarea",{value:N,onChange:t=>R(t.target.value),placeholder:"BÃ¡c Ä‘ang gáº·p váº¥n Ä‘á» gÃ¬ vá»›i cÃ¢y trá»“ng? ÄÄƒng bÃ i Ä‘á»ƒ nháº­n tÆ° váº¥n...",className:"flex-1 bg-gray-50 rounded-2xl p-4 border border-gray-200 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 focus:bg-white resize-none h-24 text-sm transition-all duration-300 font-medium placeholder:text-gray-400 focus:scale-[1.02]"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 text-gray-500 hover:text-emerald-600 transition-colors duration-200 px-3 py-2 rounded-xl hover:bg-emerald-50",children:[e.jsx(ve,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"áº¢nh/Video"})]}),e.jsxs(F,{to:"/ai-chat",className:"flex items-center gap-2 text-gray-500 hover:text-emerald-600 transition-colors duration-200 px-3 py-2 rounded-xl hover:bg-emerald-50",children:[e.jsx(L,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"AI Cháº©n Ä‘oÃ¡n"})]})]}),e.jsxs("button",{onClick:ne,className:"px-6 py-2.5 bg-emerald-600 text-white rounded-xl font-bold hover:bg-emerald-700 hover:shadow-2xl hover:shadow-emerald-500/50 transition-all duration-300 shadow-lg shadow-emerald-200/50 active:scale-[0.98] self-start sm:self-auto relative overflow-hidden group hover:-translate-y-1",children:[e.jsx("span",{className:"relative z-10",children:"ÄÄƒng bÃ i"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-700 to-green-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})]}),M.length>0?M.map((t,a)=>e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-2xl transition-all duration-500 hover-lift",style:{animationDelay:`${a*.05}s`},children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.avatar,alt:t.author,className:"w-12 h-12 rounded-full border-2 border-emerald-100 flex-shrink-0 cursor-pointer hover:ring-2 hover:ring-emerald-300 transition-all duration-200",onMouseEnter:()=>q(t.authorId),onMouseLeave:()=>q(null)}),te===t.authorId&&e.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 bg-gray-900 text-white p-3 rounded-2xl shadow-xl z-50 min-w-[200px] animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("img",{src:t.avatar,alt:t.author,className:"w-12 h-12 rounded-full border-2 border-white"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("h5",{className:"font-bold text-sm",children:t.author}),t.isExpert&&e.jsx(x,{className:"w-4 h-4 text-blue-400"})]}),e.jsx("p",{className:"text-xs text-gray-300 mt-0.5",children:"ThÃ nh viÃªn tá»« 2025"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-white/20 text-xs",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold",children:t.likes}),e.jsx("div",{className:"text-gray-300",children:"ThÃ­ch"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold",children:t.comments}),e.jsx("div",{className:"text-gray-300",children:"BÃ¬nh luáº­n"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold",children:t.views}),e.jsx("div",{className:"text-gray-300",children:"LÆ°á»£t xem"})]})]})]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-bold text-gray-900 truncate",children:t.author}),t.isExpert&&e.jsx(x,{className:"w-5 h-5 text-blue-500 flex-shrink-0"}),(t.isHot||t.isTrending)&&e.jsx("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 rounded-full text-[10px] font-bold uppercase",children:t.isHot?"HOT":"TRENDING"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mt-0.5",children:[e.jsx("span",{children:t.time}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[t.views," lÆ°á»£t xem"]})]})]})]}),e.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:t.authorId===_?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>le(t),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all duration-200",title:"Chá»‰nh sá»­a",children:e.jsx(pe,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>de(t.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all duration-200",title:"XÃ³a",children:e.jsx(fe,{className:"w-5 h-5"})})]}):e.jsxs(e.Fragment,{children:[!p.has(t.authorId)&&e.jsx("button",{onClick:()=>z(t.authorId),className:"p-2 text-gray-500 hover:text-emerald-600 hover:bg-emerald-50 rounded-xl transition-all duration-200",title:"Theo dÃµi",children:e.jsx(je,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-xl transition-all duration-200",children:e.jsx(we,{className:"w-5 h-5"})})]})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[e.jsx("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-700 rounded-full text-xs font-bold",children:t.category}),t.tags.map((s,o)=>e.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium",children:[e.jsx(Q,{className:"w-3 h-3"}),s]},o))]}),e.jsx("div",{className:"mb-4",children:(f==null?void 0:f.id)===t.id?e.jsxs("div",{className:"space-y-3",children:[e.jsx("textarea",{value:S,onChange:s=>j(s.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 focus:bg-white resize-none text-sm transition-all duration-300 font-medium outline-none",rows:"4"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:ie,className:"px-4 py-2 bg-emerald-600 text-white rounded-xl font-bold text-sm hover:bg-emerald-700 transition-colors duration-200",children:"LÆ°u"}),e.jsx("button",{onClick:()=>{C(null),j("")},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-xl font-bold text-sm hover:bg-gray-300 transition-colors duration-200",children:"Há»§y"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-700 leading-relaxed text-sm sm:text-base",children:T.has(t.id)||t.content.length<=150?t.content:`${t.content.substring(0,150)}...`}),t.content.length>150&&e.jsx("button",{onClick:()=>{const s=new Set(T);s.has(t.id)?s.delete(t.id):s.add(t.id),ee(s)},className:"text-emerald-600 hover:text-emerald-700 text-sm font-bold mt-2 hover:underline",children:T.has(t.id)?"Thu gá»n":"Äá»c thÃªm"}),e.jsx("button",{onClick:()=>h(t),className:"text-emerald-600 hover:text-emerald-700 text-sm font-bold mt-2 ml-3 hover:underline",children:"Xem chi tiáº¿t â†’"})]})}),(t.images&&t.images.length>0||t.image)&&e.jsx("div",{className:"mb-4",children:(()=>{const s=t.images||(t.image?[t.image]:[]);return s.length===1?e.jsx("div",{className:"rounded-2xl overflow-hidden border border-gray-100 shadow-sm hover:shadow-md transition-shadow duration-300 cursor-pointer",onClick:()=>{h(t),H(0)},children:e.jsx("img",{src:s[0],alt:"post",className:"w-full h-auto max-h-96 object-cover hover:scale-[1.02] transition-transform duration-500"})}):e.jsx("div",{className:`grid gap-2 rounded-2xl overflow-hidden ${s.length===2?"grid-cols-2":s.length===3?"grid-cols-3":"grid-cols-2"}`,children:s.slice(0,4).map((o,c)=>e.jsxs("div",{className:"relative cursor-pointer group overflow-hidden rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-all duration-300",onClick:()=>{h(t),H(c)},children:[e.jsx("img",{src:o,alt:`post ${c+1}`,className:`w-full h-full object-cover hover:scale-110 transition-transform duration-500 ${s.length>4&&c===3?"opacity-60":""}`,style:{aspectRatio:"1/1",maxHeight:"200px"}}),s.length>4&&c===3&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsxs("span",{className:"text-white font-bold text-lg",children:["+",s.length-4]})})]},c))})})()}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>oe(t.id),className:`flex items-center gap-2 transition-all duration-200 px-3 py-2 rounded-xl ${v.has(t.id)?"text-emerald-600 bg-emerald-50":"text-gray-500 hover:text-emerald-600 hover:bg-emerald-50"}`,children:[v.has(t.id)?e.jsx(Ne,{className:"w-5 h-5"}):e.jsx($,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-bold",children:t.likes})]}),e.jsxs("button",{onClick:()=>xe(t.id),className:"flex items-center gap-2 text-gray-500 hover:text-emerald-600 hover:bg-emerald-50 transition-colors duration-200 px-3 py-2 rounded-xl",children:[e.jsx(P,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-bold",children:t.comments})]}),e.jsxs("button",{onClick:()=>he(t.id),className:"flex items-center gap-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 transition-colors duration-200 px-3 py-2 rounded-xl",children:[e.jsx(J,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-bold",children:t.shares})]})]}),e.jsx("button",{onClick:()=>ce(t.id),className:`p-2 rounded-xl transition-all duration-200 ${y.has(t.id)?"text-emerald-600 bg-emerald-50":"text-gray-500 hover:text-emerald-600 hover:bg-emerald-50"}`,title:"LÆ°u bÃ i viáº¿t",children:y.has(t.id)?e.jsx(ye,{className:"w-5 h-5"}):e.jsx(ke,{className:"w-5 h-5"})})]})]}),k.has(t.id)&&e.jsxs("div",{className:"bg-gray-50/50 p-5 space-y-4 border-t border-gray-100 animate-fade-in-up",children:[t.commentsList.length>0&&e.jsx("div",{className:"space-y-3",children:t.commentsList.map(s=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("img",{src:s.avatar||"https://i.pravatar.cc/150?u=expert",alt:s.author,className:"w-9 h-9 rounded-full border-2 border-white flex-shrink-0"}),e.jsxs("div",{className:"flex-1 bg-white p-4 rounded-2xl rounded-tl-none shadow-sm hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900",children:s.author}),s.isExpert&&e.jsx(x,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),e.jsx("span",{className:"text-xs text-gray-400",children:s.time})]}),e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mb-2",children:s.content}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{className:"flex items-center gap-1 text-xs text-gray-500 hover:text-emerald-600 transition-colors",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{children:s.likes})]}),s.rewarded>0&&e.jsxs("span",{className:"text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:["ÄÃ£ thÆ°á»Ÿng ",s.rewarded,"Ä‘"]}),!s.isExpert&&e.jsx("button",{onClick:()=>l(`ÄÃ£ táº·ng thÆ°á»Ÿng ${s.rewarded||500}Ä‘!`),className:"text-xs font-bold text-emerald-600 bg-emerald-50 px-3 py-1.5 rounded-lg hover:bg-emerald-100 transition-colors duration-200 active:scale-95",children:"Táº·ng thÆ°á»Ÿng 500Ä‘"})]})]})]},s.id))}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("img",{src:"https://i.pravatar.cc/150?u=me",alt:"me",className:"w-9 h-9 rounded-full border-2 border-white flex-shrink-0"}),e.jsxs("div",{className:"flex-1 flex gap-2",children:[e.jsx("input",{type:"text",value:b[t.id]||"",onChange:s=>B({...b,[t.id]:s.target.value}),placeholder:"Viáº¿t bÃ¬nh luáº­n...",className:"flex-1 px-4 py-2 bg-white rounded-xl border border-gray-200 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none text-sm",onKeyPress:s=>{s.key==="Enter"&&D(t.id)}}),e.jsx("button",{onClick:()=>D(t.id),className:"px-4 py-2 bg-emerald-600 text-white rounded-xl font-bold text-sm hover:bg-emerald-700 transition-colors duration-200 active:scale-95",children:"Gá»­i"})]})]})]})]},t.id)):e.jsx(Pe,{icon:e.jsx(P,{className:"w-16 h-16 text-gray-400 mx-auto"}),title:"KhÃ´ng tÃ¬m tháº¥y bÃ i viáº¿t",description:"HÃ£y thá»­ Ä‘iá»u chá»‰nh bá»™ lá»c hoáº·c tÃ¬m kiáº¿m cá»§a báº¡n.",buttonText:"XÃ³a bá»™ lá»c",onButtonClick:()=>{K("all"),A("Táº¥t cáº£"),V("")}})]}),e.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-600 p-6 rounded-3xl text-white shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Se,{className:"w-6 h-6 text-blue-200"}),e.jsx("h3",{className:"text-lg font-bold",children:"Thá»‘ng KÃª"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/10 rounded-xl backdrop-blur-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-200 mb-1",children:"Tá»•ng bÃ i viáº¿t"}),e.jsx("p",{className:"text-2xl font-bold",children:i.length})]}),e.jsx("div",{className:"text-3xl",children:"ğŸ“"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/10 rounded-xl backdrop-blur-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-200 mb-1",children:"Tá»•ng lÆ°á»£t thÃ­ch"}),e.jsx("p",{className:"text-2xl font-bold",children:i.reduce((t,a)=>t+a.likes,0).toLocaleString("vi-VN")})]}),e.jsx("div",{className:"text-3xl",children:"â¤ï¸"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/10 rounded-xl backdrop-blur-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-200 mb-1",children:"ThÃ nh viÃªn online"}),e.jsx("p",{className:"text-2xl font-bold",children:"1,234"})]}),e.jsx("div",{className:"text-3xl",children:"ğŸ‘¥"})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(G,{className:"w-5 h-5 text-orange-500"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Chá»§ Ä‘á» ná»•i báº­t"})]}),e.jsx("div",{className:"space-y-3",children:ae.map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl hover:bg-gray-50 transition-colors duration-200 group cursor-pointer",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900 group-hover:text-emerald-600 transition-colors",children:t.name}),t.trend==="up"&&e.jsx(O,{className:"w-4 h-4 text-emerald-600"})]}),e.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:[t.count," bÃ i viáº¿t"]})]}),e.jsxs("span",{className:"text-lg font-bold text-gray-300",children:["#",a+1]})]},a))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Te,{className:"w-5 h-5 text-yellow-500"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Ká»¹ sÆ° tiÃªu biá»ƒu"})]}),e.jsx("div",{className:"space-y-3",children:se.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl hover:bg-gray-50 transition-colors duration-200 group",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.avatar,className:"w-12 h-12 rounded-full border-2 border-emerald-100 flex-shrink-0"}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-emerald-500 rounded-full border-2 border-white"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("h5",{className:"text-sm font-bold text-gray-900 truncate",children:t.name}),e.jsx(x,{className:"w-4 h-4 text-blue-500 flex-shrink-0"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx(Ee,{className:"w-3 h-3 text-yellow-400 fill-yellow-400"}),e.jsx("span",{className:"text-xs font-bold text-gray-600",children:t.rating})]}),e.jsx("span",{className:"text-xs text-gray-400",children:"â€¢"}),e.jsxs("span",{className:"text-xs text-gray-400",children:[t.solved," ca"]})]}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-0.5",children:t.category})]})]}),e.jsx("button",{onClick:()=>z(t.id),className:`text-xs font-bold px-3 py-1.5 rounded-lg transition-all duration-200 flex-shrink-0 ml-2 ${p.has(t.id)?"bg-emerald-600 text-white hover:bg-emerald-700":"text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50 border border-emerald-200"}`,children:p.has(t.id)?"Äang theo":"Theo dÃµi"})]},t.id))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-600 to-green-500 p-6 rounded-3xl text-white shadow-xl hover:shadow-2xl transition-all duration-300 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-bl-full"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(L,{className:"w-10 h-10 mb-4 text-emerald-200"}),e.jsx("h4",{className:"text-lg font-bold mb-2",children:"AI Cháº©n Ä‘oÃ¡n"}),e.jsx("p",{className:"text-sm opacity-90 mb-5 leading-relaxed",children:"Chá»¥p áº£nh lÃ¡ cÃ¢y Ä‘á»ƒ nháº­n káº¿t quáº£ phÃ¢n tÃ­ch tá»©c thÃ¬ tá»« AI cá»§a chÃºng tÃ´i."}),e.jsx(F,{to:"/ai-chat",className:"block w-full py-3 bg-white text-emerald-600 rounded-xl font-bold hover:bg-gray-100 transition-all duration-200 text-center shadow-lg active:scale-[0.98]",children:"Tráº£i nghiá»‡m ngay"})]})]})]})]})]}),r&&e.jsx(Le,{isOpen:!!r,onClose:()=>h(null),title:"Chi tiáº¿t bÃ i viáº¿t",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-100",children:[e.jsx("img",{src:r.avatar,alt:r.author,className:"w-16 h-16 rounded-full border-2 border-emerald-100"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r.author}),r.isExpert&&e.jsx(x,{className:"w-6 h-6 text-blue-500"})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[r.time," â€¢ ",r.views," lÆ°á»£t xem"]})]}),e.jsx("button",{onClick:()=>h(null),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-xl transition-colors",children:e.jsx($e,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-700 rounded-full text-xs font-bold",children:r.category}),r.tags.map((t,a)=>e.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium",children:[e.jsx(Q,{className:"w-3 h-3"}),t]},a))]}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("p",{className:"text-gray-700 leading-relaxed text-base whitespace-pre-wrap",children:r.content})}),(r.images&&r.images.length>0||r.image)&&e.jsx("div",{className:"space-y-3",children:(((X=r.images)==null?void 0:X.length)>1?r.images:[((U=r.images)==null?void 0:U[0])||r.image]).map((t,a)=>e.jsx("div",{className:"rounded-2xl overflow-hidden border border-gray-100 shadow-lg",children:e.jsx("img",{src:t,alt:`post ${a+1}`,className:"w-full h-auto max-h-[600px] object-cover"})},a))}),e.jsxs("div",{className:"flex items-center gap-6 pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx($,{className:"w-5 h-5"}),e.jsx("span",{className:"font-bold",children:r.likes})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(P,{className:"w-5 h-5"}),e.jsx("span",{className:"font-bold",children:r.comments})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(J,{className:"w-5 h-5"}),e.jsx("span",{className:"font-bold",children:r.shares})]})]}),r.commentsList&&r.commentsList.length>0&&e.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[e.jsxs("h4",{className:"font-bold text-gray-900",children:["BÃ¬nh luáº­n (",r.commentsList.length,")"]}),r.commentsList.map(t=>e.jsxs("div",{className:"flex gap-3 p-4 bg-gray-50 rounded-2xl",children:[e.jsx("img",{src:t.avatar,alt:t.author,className:"w-10 h-10 rounded-full border-2 border-white flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-bold text-gray-900",children:t.author}),t.isExpert&&e.jsx(x,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-xs text-gray-400",children:t.time})]}),e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:t.content}),t.rewarded>0&&e.jsxs("span",{className:"inline-block mt-2 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:["ÄÃ£ thÆ°á»Ÿng ",t.rewarded,"Ä‘"]})]})]},t.id))]})]})})]})};export{De as default};
