import{j as e,a1 as S,b as T,c as A,D as k,B as p,I as D,a0 as R,am as F,an as $,aa as U,u as E}from"./dashboard-C0zXrU1t.js";import{r as o}from"./react-vendor-D1TcphUO.js";import"./utils-vendor-D7BOParW.js";const q=()=>{const{showSuccess:t}=E(),[i,x]=o.useState(""),[l,r]=o.useState("all"),[h,s]=o.useState(!1),[m,d]=o.useState(null),[c,g]=o.useState([{id:1,name:"Nguyễn Văn A",email:"nguyenvana@email.com",phone:"0901234567",role:"farmer",verified:!0,createdAt:"2025-01-01",status:"active"},{id:2,name:"Trần Thị B",email:"tranthib@email.com",phone:"0901234568",role:"enterprise",verified:!0,createdAt:"2025-01-02",status:"active"},{id:3,name:"Lê Văn C",email:"levanc@email.com",phone:"0901234569",role:"engineer",verified:!1,createdAt:"2025-01-03",status:"active"},{id:4,name:"Phạm Thị D",email:"phamthid@email.com",phone:"0901234570",role:"consumer",verified:!0,createdAt:"2025-01-04",status:"inactive"},{id:5,name:"Hoàng Văn E",email:"hoangvane@email.com",phone:"0901234571",role:"farmer",verified:!0,createdAt:"2025-01-05",status:"active"}]),b=[{value:"all",label:"Tất cả"},{value:"admin",label:"Admin"},{value:"farmer",label:"Nông dân"},{value:"enterprise",label:"Doanh nghiệp"},{value:"engineer",label:"Kỹ sư"},{value:"consumer",label:"Người tiêu dùng"}],f={admin:"Admin",farmer:"Nông dân",enterprise:"Doanh nghiệp",engineer:"Kỹ sư",consumer:"Người tiêu dùng"},v={admin:"bg-purple-100 text-purple-700",farmer:"bg-emerald-100 text-emerald-700",enterprise:"bg-blue-100 text-blue-700",engineer:"bg-orange-100 text-orange-700",consumer:"bg-pink-100 text-pink-700"},u=c.filter(a=>{const n=a.name.toLowerCase().includes(i.toLowerCase())||a.email.toLowerCase().includes(i.toLowerCase())||a.phone.includes(i),C=l==="all"||a.role===l;return n&&C}),j=a=>{d(a),s(!0)},y=()=>{d(null),s(!0)},N=a=>{if(m)g(c.map(n=>n.id===m.id?{...n,...a}:n)),t("Đã cập nhật người dùng thành công!");else{const n={id:c.length+1,...a,verified:!1,createdAt:new Date().toISOString().split("T")[0],status:"active"};g([...c,n]),t("Đã thêm người dùng mới!")}s(!1),d(null)},w=a=>{g(c.map(n=>n.id===a?{...n,status:n.status==="active"?"inactive":"active"}:n)),t("Đã cập nhật trạng thái người dùng!")};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản Lý Người Dùng"}),e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Tổng cộng: ",u.length," người dùng"]})]}),e.jsxs("button",{onClick:y,className:"px-6 py-3 bg-emerald-600 text-white font-bold rounded-xl shadow-lg hover:bg-emerald-700 transition-all flex items-center gap-2",children:[e.jsx(S,{className:"w-5 h-5"}),"Thêm Người Dùng"]})]}),e.jsx("div",{className:"bg-white rounded-2xl p-4 border border-gray-100 shadow-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(T,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Tìm kiếm theo tên, email, số điện thoại...",value:i,onChange:a=>x(a.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("select",{value:l,onChange:a=>r(a.target.value),className:"pl-10 pr-8 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none appearance-none bg-white",children:b.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]})]})}),e.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:e.jsx("tr",{children:["ID","Tên","Email","Số điện thoại","Vai trò","Xác thực","Trạng thái","Ngày tạo","Hành động"].map(a=>e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:a},a))})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:u.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["#",a.id]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center",children:e.jsx(k,{className:"w-5 h-5 text-emerald-600"})}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:a.name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm text-gray-600",children:a.email})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm text-gray-600",children:a.phone})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full whitespace-nowrap ${v[a.role]}`,children:f[a.role]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.verified?e.jsxs(p,{color:"success",children:[e.jsx(D,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Đã xác thực"})]}):e.jsx(p,{color:"warning",children:"Chưa xác thực"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(p,{color:a.status==="active"?"success":"danger",children:a.status==="active"?"Hoạt động":"Vô hiệu hóa"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-500",children:a.createdAt})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>j(a),className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-600 hover:text-white transition-all duration-200 hover:scale-110 active:scale-95",title:"Chỉnh sửa",children:e.jsx(R,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>w(a.id),className:`p-2 rounded-lg transition-all duration-200 hover:scale-110 active:scale-95 ${a.status==="active"?"bg-emerald-50 text-emerald-600 hover:bg-emerald-600 hover:text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:a.status==="active"?"Vô hiệu hóa":"Kích hoạt",children:a.status==="active"?e.jsx(F,{className:"w-5 h-5"}):e.jsx($,{className:"w-5 h-5"})})]})})]},a.id))})]})})}),e.jsx(U,{isOpen:h,onClose:()=>{s(!1),d(null)},title:m?"Sửa Người Dùng":"Thêm Người Dùng Mới",size:"lg",children:e.jsx(L,{user:m,onSave:N,onCancel:()=>{s(!1),d(null)}})})]})},L=({user:t,onSave:i,onCancel:x})=>{const[l,r]=o.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",role:(t==null?void 0:t.role)||"farmer",address:(t==null?void 0:t.address)||""}),h=s=>{s.preventDefault(),i(l)};return e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Họ và tên *"}),e.jsx("input",{type:"text",required:!0,value:l.name,onChange:s=>r({...l,name:s.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",required:!0,value:l.email,onChange:s=>r({...l,email:s.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Số điện thoại *"}),e.jsx("input",{type:"tel",required:!0,value:l.phone,onChange:s=>r({...l,phone:s.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Vai trò *"}),e.jsxs("select",{required:!0,value:l.role,onChange:s=>r({...l,role:s.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none",children:[e.jsx("option",{value:"farmer",children:"Nông dân"}),e.jsx("option",{value:"enterprise",children:"Doanh nghiệp"}),e.jsx("option",{value:"engineer",children:"Kỹ sư"}),e.jsx("option",{value:"consumer",children:"Người tiêu dùng"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Địa chỉ"}),e.jsx("textarea",{value:l.address,onChange:s=>r({...l,address:s.target.value}),rows:3,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:x,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 font-bold rounded-xl hover:bg-gray-200 transition-colors",children:"Hủy"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors",children:t?"Cập nhật":"Thêm mới"})]})]})};export{q as default};
