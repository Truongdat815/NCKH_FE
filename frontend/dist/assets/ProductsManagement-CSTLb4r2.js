import{j as e,k as A,b as B,c as _,ao as H,a0 as M,l as R,B as $,ap as D,aa as v,u as K}from"./dashboard-C0zXrU1t.js";import{r as o}from"./react-vendor-D1TcphUO.js";import"./utils-vendor-D7BOParW.js";const G=()=>{const{showSuccess:a}=K(),[c,u]=o.useState(""),[t,i]=o.useState("all"),[m,l]=o.useState("all"),[N,h]=o.useState(!1),[x,g]=o.useState(null),[r,f]=o.useState(null),[d,b]=o.useState([{id:1,name:"Phân bón NPK Đầu Trâu",category:"Phân bón",price:15e4,stock:1200,sold:450,status:"active",image:"https://images.unsplash.com/photo-1581833971358-2c8b550f87b3?w=300",description:"Phân bón NPK chất lượng cao",supplier:"Công ty A",createdAt:"2025-01-01"},{id:2,name:"Thuốc trừ sâu Bio-B",category:"Thuốc BVTV",price:85e3,stock:0,sold:120,status:"out_of_stock",image:"https://images.unsplash.com/photo-1581833971358-2c8b550f87b3?w=300",description:"Thuốc trừ sâu sinh học",supplier:"Công ty B",createdAt:"2025-01-02"},{id:3,name:"Hạt giống lúa ST25",category:"Hạt giống",price:12e4,stock:500,sold:320,status:"active",image:"https://images.unsplash.com/photo-1581833971358-2c8b550f87b3?w=300",description:"Hạt giống lúa chất lượng cao",supplier:"Công ty C",createdAt:"2025-01-03"},{id:4,name:"Phân hữu cơ vi sinh",category:"Phân bón",price:95e3,stock:800,sold:210,status:"active",image:"https://images.unsplash.com/photo-1581833971358-2c8b550f87b3?w=300",description:"Phân hữu cơ an toàn",supplier:"Công ty D",createdAt:"2025-01-04"},{id:5,name:"Máy phun thuốc điện",category:"Thiết bị",price:25e5,stock:15,sold:8,status:"active",image:"https://images.unsplash.com/photo-1581833971358-2c8b550f87b3?w=300",description:"Máy phun thuốc tự động",supplier:"Công ty E",createdAt:"2025-01-05"}]),w=["all","Phân bón","Thuốc BVTV","Hạt giống","Thiết bị","Khác"],k=["all","active","out_of_stock","inactive"],p=d.filter(s=>{var j,y;const n=s.name.toLowerCase().includes(c.toLowerCase())||((j=s.description)==null?void 0:j.toLowerCase().includes(c.toLowerCase()))||((y=s.supplier)==null?void 0:y.toLowerCase().includes(c.toLowerCase())),L=t==="all"||s.category===t,F=m==="all"||s.status===m;return n&&L&&F}),C=s=>{window.confirm("Bạn có chắc muốn xóa sản phẩm này?")&&(b(d.filter(n=>n.id!==s)),a("Đã xóa sản phẩm thành công!"))},S=s=>{g(s),h(!0)},T=()=>{g(null),h(!0)},P=s=>{if(x)b(d.map(n=>n.id===x.id?{...n,...s}:n)),a("Đã cập nhật sản phẩm thành công!");else{const n={id:d.length+1,...s,sold:0,createdAt:new Date().toISOString().split("T")[0],status:s.stock>0?"active":"out_of_stock"};b([...d,n]),a("Đã thêm sản phẩm mới!")}h(!1),g(null)},V=s=>{b(d.map(n=>n.id===s?{...n,status:n.status==="active"?"inactive":"active"}:n)),a("Đã cập nhật trạng thái sản phẩm!")};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản Lý Sản Phẩm"}),e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Tổng cộng: ",p.length," sản phẩm"]})]}),e.jsxs("button",{onClick:T,className:"px-6 py-3 bg-emerald-600 text-white font-bold rounded-xl shadow-lg hover:bg-emerald-700 transition-all flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5"}),"Thêm Sản Phẩm"]})]}),e.jsx("div",{className:"bg-white rounded-2xl p-4 border border-gray-100 shadow-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(B,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Tìm kiếm sản phẩm...",value:c,onChange:s=>u(s.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("select",{value:t,onChange:s=>i(s.target.value),className:"pl-10 pr-8 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none appearance-none bg-white",children:w.map(s=>e.jsx("option",{value:s,children:s==="all"?"Tất cả danh mục":s},s))})]}),e.jsx("div",{className:"relative",children:e.jsx("select",{value:m,onChange:s=>l(s.target.value),className:"pl-4 pr-8 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none appearance-none bg-white",children:k.map(s=>e.jsx("option",{value:s,children:s==="all"?"Tất cả trạng thái":s==="active"?"Đang bán":s==="out_of_stock"?"Hết hàng":"Ngừng bán"},s))})})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(s=>e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-xl transition-all overflow-hidden group",children:[e.jsxs("div",{className:"relative h-48 bg-gray-100 overflow-hidden",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),e.jsxs("div",{className:"absolute top-3 right-3 flex gap-2",children:[e.jsx("button",{onClick:()=>f(s),className:"p-2 bg-white/90 backdrop-blur-sm rounded-lg hover:bg-white transition-colors",title:"Xem chi tiết",children:e.jsx(H,{className:"w-4 h-4 text-gray-700"})}),e.jsx("button",{onClick:()=>S(s),className:"p-2 bg-blue-500/90 backdrop-blur-sm rounded-lg hover:bg-blue-600 transition-colors",title:"Sửa",children:e.jsx(M,{className:"w-4 h-4 text-white"})}),e.jsx("button",{onClick:()=>C(s.id),className:"p-2 bg-red-500/90 backdrop-blur-sm rounded-lg hover:bg-red-600 transition-colors",title:"Xóa",children:e.jsx(R,{className:"w-4 h-4 text-white"})})]}),s.status==="out_of_stock"&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsx($,{color:"danger",children:"Hết hàng"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:s.name}),e.jsx("p",{className:"text-xs font-semibold text-emerald-600 uppercase tracking-wider",children:s.category})]}),e.jsx("button",{onClick:()=>V(s.id),className:`px-3 py-1 text-xs font-bold rounded-full transition-colors ${s.status==="active"?"bg-emerald-100 text-emerald-700 hover:bg-emerald-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:s.status==="active"?"Đang bán":"Ngừng bán"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Giá bán:"}),e.jsxs("span",{className:"font-bold text-emerald-600",children:[s.price.toLocaleString("vi-VN"),"₫"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Tồn kho:"}),e.jsx("span",{className:"font-bold text-gray-900",children:s.stock.toLocaleString("vi-VN")})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Đã bán:"}),e.jsx("span",{className:"font-bold text-blue-600",children:s.sold.toLocaleString("vi-VN")})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Nhà cung cấp:"}),e.jsx("span",{className:"font-medium text-gray-700",children:s.supplier})]})]})]})]},s.id))}),p.length===0&&e.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-gray-100",children:[e.jsx(D,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Không tìm thấy sản phẩm nào"})]}),e.jsx(v,{isOpen:N,onClose:()=>{h(!1),g(null)},title:x?"Sửa Sản Phẩm":"Thêm Sản Phẩm Mới",size:"lg",children:e.jsx(q,{product:x,onSave:P,onCancel:()=>{h(!1),g(null)}})}),e.jsx(v,{isOpen:!!r,onClose:()=>f(null),title:"Chi Tiết Sản Phẩm",size:"lg",children:r&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"relative h-64 bg-gray-100 rounded-xl overflow-hidden mb-4",children:e.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Tên sản phẩm"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:r.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Danh mục"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:r.category})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Giá bán"}),e.jsxs("p",{className:"text-emerald-600 font-bold text-lg",children:[r.price.toLocaleString("vi-VN"),"₫"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Tồn kho"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:r.stock.toLocaleString("vi-VN")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Đã bán"}),e.jsx("p",{className:"text-blue-600 font-semibold",children:r.sold.toLocaleString("vi-VN")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Nhà cung cấp"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:r.supplier})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Mô tả"}),e.jsx("p",{className:"text-gray-600",children:r.description})]})]})]})})]})},q=({product:a,onSave:c,onCancel:u})=>{const[t,i]=o.useState({name:(a==null?void 0:a.name)||"",category:(a==null?void 0:a.category)||"Phân bón",price:(a==null?void 0:a.price)||"",stock:(a==null?void 0:a.stock)||"",description:(a==null?void 0:a.description)||"",supplier:(a==null?void 0:a.supplier)||"",image:(a==null?void 0:a.image)||"https://images.unsplash.com/photo-1581833971358-2c8b550f87b3?w=300"}),m=l=>{l.preventDefault(),c(t)};return e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Tên sản phẩm *"}),e.jsx("input",{type:"text",required:!0,value:t.name,onChange:l=>i({...t,name:l.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Danh mục *"}),e.jsxs("select",{required:!0,value:t.category,onChange:l=>i({...t,category:l.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none",children:[e.jsx("option",{value:"Phân bón",children:"Phân bón"}),e.jsx("option",{value:"Thuốc BVTV",children:"Thuốc BVTV"}),e.jsx("option",{value:"Hạt giống",children:"Hạt giống"}),e.jsx("option",{value:"Thiết bị",children:"Thiết bị"}),e.jsx("option",{value:"Khác",children:"Khác"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Nhà cung cấp *"}),e.jsx("input",{type:"text",required:!0,value:t.supplier,onChange:l=>i({...t,supplier:l.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Giá bán (₫) *"}),e.jsx("input",{type:"number",required:!0,min:"0",value:t.price,onChange:l=>i({...t,price:parseInt(l.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Tồn kho *"}),e.jsx("input",{type:"number",required:!0,min:"0",value:t.stock,onChange:l=>i({...t,stock:parseInt(l.target.value)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Mô tả"}),e.jsx("textarea",{value:t.description,onChange:l=>i({...t,description:l.target.value}),rows:4,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"URL ảnh"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"url",value:t.image,onChange:l=>i({...t,image:l.target.value}),className:"flex-1 px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"https://..."}),t.image&&e.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden border border-gray-200",children:e.jsx("img",{src:t.image,alt:"Preview",className:"w-full h-full object-cover"})})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:u,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 font-bold rounded-xl hover:bg-gray-200 transition-colors",children:"Hủy"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors",children:a?"Cập nhật":"Thêm mới"})]})]})};export{G as default};
