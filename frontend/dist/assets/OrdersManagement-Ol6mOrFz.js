import{j as e,b as N,c as w,ao as v,aa as C,am as k,an as T,aq as m,Z as S,B as R,u as L}from"./dashboard-C0zXrU1t.js";import{r as c}from"./react-vendor-D1TcphUO.js";import"./utils-vendor-D7BOParW.js";const F=()=>{const{showSuccess:u}=L(),[r,b]=c.useState(""),[d,y]=c.useState("all"),[t,i]=c.useState(null),[h,j]=c.useState([{id:"ORD-001",customer:"Nguyễn Văn A",product:"Phân bón NPK - 50kg",quantity:2,total:3e5,status:"pending",date:"2025-01-11",payment:"Chưa thanh toán",shipping:"Chưa giao hàng"},{id:"ORD-002",customer:"Trần Thị B",product:"Thuốc trừ sâu Bio-B - 10 lít",quantity:1,total:85e3,status:"processing",date:"2025-01-10",payment:"Đã thanh toán",shipping:"Đang chuẩn bị"},{id:"ORD-003",customer:"Lê Văn C",product:"Hạt giống lúa ST25 - 20kg",quantity:3,total:36e4,status:"shipped",date:"2025-01-09",payment:"Đã thanh toán",shipping:"Đang vận chuyển"},{id:"ORD-004",customer:"Phạm Thị D",product:"Phân hữu cơ vi sinh - 30kg",quantity:2,total:19e4,status:"delivered",date:"2025-01-08",payment:"Đã thanh toán",shipping:"Đã giao hàng"},{id:"ORD-005",customer:"Hoàng Văn E",product:"Máy phun thuốc điện",quantity:1,total:25e5,status:"cancelled",date:"2025-01-07",payment:"Đã hoàn tiền",shipping:"Đã hủy"}]),f=["all","pending","processing","shipped","delivered","cancelled"],x=h.filter(s=>{var o,g;const a=s.id.toLowerCase().includes(r.toLowerCase())||((o=s.customer)==null?void 0:o.toLowerCase().includes(r.toLowerCase()))||((g=s.product)==null?void 0:g.toLowerCase().includes(r.toLowerCase())),l=d==="all"||s.status===d;return a&&l}),n=(s,a)=>{j(h.map(l=>l.id===s?{...l,status:a,payment:a==="cancelled"?"Đã hoàn tiền":l.payment,shipping:a==="cancelled"?"Đã hủy":a==="delivered"?"Đã giao hàng":a==="shipped"?"Đang vận chuyển":a==="processing"?"Đang chuẩn bị":l.shipping}:l)),u("Đã cập nhật trạng thái đơn hàng!")},p=s=>{const a={pending:{color:"warning",label:"Chờ xử lý",icon:S},processing:{color:"info",label:"Đang xử lý",icon:m},shipped:{color:"info",label:"Đang giao",icon:m},delivered:{color:"success",label:"Đã giao",icon:T},cancelled:{color:"danger",label:"Đã hủy",icon:k}},l=a[s]||a.pending,o=l.icon;return e.jsxs(R,{color:l.color,children:[e.jsx(o,{className:"w-4 h-4 inline mr-1"}),l.label]})};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản Lý Đơn Hàng"}),e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Tổng cộng: ",x.length," đơn hàng"]})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs("div",{className:"bg-white px-4 py-2 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Tổng doanh thu"}),e.jsxs("p",{className:"text-lg font-bold text-emerald-600",children:[h.filter(s=>s.status==="delivered").reduce((s,a)=>s+a.total,0).toLocaleString("vi-VN"),"₫"]})]})})]}),e.jsx("div",{className:"bg-white rounded-2xl p-4 border border-gray-100 shadow-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Tìm kiếm đơn hàng...",value:r,onChange:s=>b(s.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("select",{value:d,onChange:s=>y(s.target.value),className:"pl-10 pr-8 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none appearance-none bg-white",children:f.map(s=>e.jsx("option",{value:s,children:s==="all"?"Tất cả trạng thái":s==="pending"?"Chờ xử lý":s==="processing"?"Đang xử lý":s==="shipped"?"Đang giao":s==="delivered"?"Đã giao":"Đã hủy"},s))})]})]})}),e.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:e.jsx("tr",{children:["Mã đơn","Khách hàng","Sản phẩm","Số lượng","Tổng tiền","Thanh toán","Vận chuyển","Trạng thái","Ngày","Hành động"].map(s=>e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-wider whitespace-nowrap",children:s},s))})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:x.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm font-bold text-gray-900",children:s.id})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:s.customer})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm text-gray-600",children:s.product})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:s.quantity})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"text-sm font-bold text-emerald-600",children:[s.total.toLocaleString("vi-VN"),"₫"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${s.payment==="Đã thanh toán"?"bg-emerald-100 text-emerald-700":s.payment==="Đã hoàn tiền"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:s.payment})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-xs text-gray-600",children:s.shipping})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p(s.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-500",children:s.date})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>i(s),className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-600 hover:text-white transition-colors",title:"Xem chi tiết",children:e.jsx(v,{className:"w-4 h-4"})}),s.status==="pending"&&e.jsx("button",{onClick:()=>n(s.id,"processing"),className:"px-3 py-1 text-xs font-bold bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:"Xử lý"}),s.status==="processing"&&e.jsx("button",{onClick:()=>n(s.id,"shipped"),className:"px-3 py-1 text-xs font-bold bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Giao hàng"}),s.status==="shipped"&&e.jsx("button",{onClick:()=>n(s.id,"delivered"),className:"px-3 py-1 text-xs font-bold bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:"Hoàn thành"})]})})]},s.id))})]})})}),e.jsx(C,{isOpen:!!t,onClose:()=>i(null),title:`Chi Tiết Đơn Hàng ${t==null?void 0:t.id}`,size:"lg",children:t&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Khách hàng"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:t.customer})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Ngày đặt"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:t.date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Sản phẩm"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:t.product})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Số lượng"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:t.quantity})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Tổng tiền"}),e.jsxs("p",{className:"text-emerald-600 font-bold text-lg",children:[t.total.toLocaleString("vi-VN"),"₫"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Trạng thái"}),p(t.status)]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Thanh toán"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:t.payment})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Vận chuyển"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:t.shipping})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-100 flex gap-3",children:[t.status==="pending"&&e.jsx("button",{onClick:()=>{n(t.id,"processing"),i({...t,status:"processing"})},className:"flex-1 px-4 py-3 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors",children:"Xử lý đơn hàng"}),t.status==="processing"&&e.jsx("button",{onClick:()=>{n(t.id,"shipped"),i({...t,status:"shipped"})},className:"flex-1 px-4 py-3 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition-colors",children:"Xác nhận giao hàng"}),t.status==="shipped"&&e.jsx("button",{onClick:()=>{n(t.id,"delivered"),i({...t,status:"delivered"})},className:"flex-1 px-4 py-3 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors",children:"Hoàn thành đơn hàng"}),t.status!=="cancelled"&&t.status!=="delivered"&&e.jsx("button",{onClick:()=>{n(t.id,"cancelled"),i({...t,status:"cancelled"})},className:"px-4 py-3 bg-red-600 text-white font-bold rounded-xl hover:bg-red-700 transition-colors",children:"Hủy đơn"})]})]})})]})};export{F as default};
