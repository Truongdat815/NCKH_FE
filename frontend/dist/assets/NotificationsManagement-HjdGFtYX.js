import{j as e,k as C,b as T,c as S,Q as k,B as y,$ as B,l as A,a9 as F,u as R}from"./dashboard-D8iSra2c.js";import{r as o}from"./react-vendor-D1TcphUO.js";import"./utils-vendor-D7BOParW.js";const D=()=>{const{showSuccess:t}=R(),[c,x]=o.useState(""),[r,d]=o.useState("all"),[u,l]=o.useState(!1),[h,i]=o.useState(null),[n,g]=o.useState([{id:1,title:"Cáº£nh bÃ¡o: Bá»‡nh Ä‘áº¡o Ã´n táº¡i Tiá»n Giang",type:"warning",message:"PhÃ¡t hiá»‡n bá»‡nh Ä‘áº¡o Ã´n táº¡i khu vá»±c Tiá»n Giang. Vui lÃ²ng kiá»ƒm tra vÃ  xá»­ lÃ½.",status:"active",createdAt:"2025-01-11",sent:1250},{id:2,title:"Khuyáº¿n mÃ£i: Giáº£m 20% phÃ¢n bÃ³n NPK",type:"promotion",message:"ChÆ°Æ¡ng trÃ¬nh khuyáº¿n mÃ£i Ä‘áº·c biá»‡t giáº£m 20% cho táº¥t cáº£ sáº£n pháº©m phÃ¢n bÃ³n NPK.",status:"active",createdAt:"2025-01-10",sent:3200},{id:3,title:"ThÃ´ng bÃ¡o báº£o trÃ¬ há»‡ thá»‘ng",type:"system",message:"Há»‡ thá»‘ng sáº½ báº£o trÃ¬ tá»« 2h-4h sÃ¡ng ngÃ y mai. Vui lÃ²ng lÆ°u cÃ´ng viá»‡c.",status:"sent",createdAt:"2025-01-09",sent:5e3},{id:4,title:"ÄÆ¡n hÃ ng má»›i #ORD-001",type:"order",message:"Báº¡n cÃ³ Ä‘Æ¡n hÃ ng má»›i tá»« khÃ¡ch hÃ ng Nguyá»…n VÄƒn A. Tá»•ng giÃ¡ trá»‹: 300,000â‚«",status:"active",createdAt:"2025-01-08",sent:0},{id:5,title:"Cáº­p nháº­t chÃ­nh sÃ¡ch váº­n chuyá»ƒn",type:"policy",message:"ChÃ­nh sÃ¡ch váº­n chuyá»ƒn Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t. Vui lÃ²ng xem chi tiáº¿t.",status:"draft",createdAt:"2025-01-07",sent:0}]),j=["all","warning","promotion","system","order","policy"],p=n.filter(s=>{var b;const a=s.title.toLowerCase().includes(c.toLowerCase())||((b=s.message)==null?void 0:b.toLowerCase().includes(c.toLowerCase())),m=r==="all"||s.type===r;return a&&m}),v=s=>{window.confirm("Báº¡n cÃ³ cháº¯c muá»‘n xÃ³a thÃ´ng bÃ¡o nÃ y?")&&(g(n.filter(a=>a.id!==s)),t("ÄÃ£ xÃ³a thÃ´ng bÃ¡o thÃ nh cÃ´ng!"))},w=s=>{g(n.map(a=>a.id===s?{...a,status:"sent",sent:a.sent+1e3}:a)),t("ÄÃ£ gá»­i thÃ´ng bÃ¡o thÃ nh cÃ´ng!")},f=s=>{if(h)g(n.map(a=>a.id===h.id?{...a,...s}:a)),t("ÄÃ£ cáº­p nháº­t thÃ´ng bÃ¡o thÃ nh cÃ´ng!");else{const a={id:n.length+1,...s,sent:0,createdAt:new Date().toISOString().split("T")[0],status:"draft"};g([...n,a]),t("ÄÃ£ táº¡o thÃ´ng bÃ¡o má»›i!")}l(!1),i(null)},N=s=>{const a={warning:{color:"danger",label:"Cáº£nh bÃ¡o"},promotion:{color:"success",label:"Khuyáº¿n mÃ£i"},system:{color:"info",label:"Há»‡ thá»‘ng"},order:{color:"info",label:"ÄÆ¡n hÃ ng"},policy:{color:"warning",label:"ChÃ­nh sÃ¡ch"}},m=a[s]||a.system;return e.jsx(y,{color:m.color,children:m.label})};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quáº£n LÃ½ ThÃ´ng BÃ¡o"}),e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Tá»•ng cá»™ng: ",p.length," thÃ´ng bÃ¡o"]})]}),e.jsxs("button",{onClick:()=>{i(null),l(!0)},className:"px-6 py-3 bg-emerald-600 text-white font-bold rounded-xl shadow-lg hover:bg-emerald-700 transition-all flex items-center gap-2",children:[e.jsx(C,{className:"w-5 h-5"}),"Táº¡o ThÃ´ng BÃ¡o"]})]}),e.jsx("div",{className:"bg-white rounded-2xl p-4 border border-gray-100 shadow-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(T,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"TÃ¬m kiáº¿m thÃ´ng bÃ¡o...",value:c,onChange:s=>x(s.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("select",{value:r,onChange:s=>d(s.target.value),className:"pl-10 pr-8 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none appearance-none bg-white",children:j.map(s=>e.jsx("option",{value:s,children:s==="all"?"Táº¥t cáº£ loáº¡i":s==="warning"?"Cáº£nh bÃ¡o":s==="promotion"?"Khuyáº¿n mÃ£i":s==="system"?"Há»‡ thá»‘ng":s==="order"?"ÄÆ¡n hÃ ng":"ChÃ­nh sÃ¡ch"},s))})]})]})}),e.jsx("div",{className:"space-y-4",children:p.map(s=>e.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(k,{className:"w-5 h-5 text-emerald-600"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:s.title}),N(s.type),e.jsx(y,{color:s.status==="sent"?"success":s.status==="active"?"info":"warning",children:s.status==="sent"?"ÄÃ£ gá»­i":s.status==="active"?"Hoáº¡t Ä‘á»™ng":"Báº£n nhÃ¡p"})]}),e.jsx("p",{className:"text-gray-700 mb-3",children:s.message}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["ðŸ“… ",s.createdAt]}),e.jsxs("span",{children:["ðŸ“¤ ÄÃ£ gá»­i: ",s.sent.toLocaleString("vi-VN")]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[s.status!=="sent"&&e.jsx("button",{onClick:()=>w(s.id),className:"px-4 py-2 bg-emerald-600 text-white text-sm font-bold rounded-lg hover:bg-emerald-700 transition-colors",children:"Gá»­i ngay"}),e.jsx("button",{onClick:()=>{i(s),l(!0)},className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-600 hover:text-white transition-colors",title:"Sá»­a",children:e.jsx(B,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>v(s.id),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-600 hover:text-white transition-colors",title:"XÃ³a",children:e.jsx(A,{className:"w-5 h-5"})})]})]})},s.id))}),e.jsx(F,{isOpen:u,onClose:()=>{l(!1),i(null)},title:h?"Sá»­a ThÃ´ng BÃ¡o":"Táº¡o ThÃ´ng BÃ¡o Má»›i",size:"lg",children:e.jsx(L,{notification:h,onSave:f,onCancel:()=>{l(!1),i(null)}})})]})},L=({notification:t,onSave:c,onCancel:x})=>{const[r,d]=o.useState({title:(t==null?void 0:t.title)||"",type:(t==null?void 0:t.type)||"system",message:(t==null?void 0:t.message)||"",status:(t==null?void 0:t.status)||"draft"}),u=l=>{l.preventDefault(),c(r)};return e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"TiÃªu Ä‘á» *"}),e.jsx("input",{type:"text",required:!0,value:r.title,onChange:l=>d({...r,title:l.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Loáº¡i thÃ´ng bÃ¡o *"}),e.jsxs("select",{required:!0,value:r.type,onChange:l=>d({...r,type:l.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none",children:[e.jsx("option",{value:"warning",children:"Cáº£nh bÃ¡o"}),e.jsx("option",{value:"promotion",children:"Khuyáº¿n mÃ£i"}),e.jsx("option",{value:"system",children:"Há»‡ thá»‘ng"}),e.jsx("option",{value:"order",children:"ÄÆ¡n hÃ ng"}),e.jsx("option",{value:"policy",children:"ChÃ­nh sÃ¡ch"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Ná»™i dung *"}),e.jsx("textarea",{required:!0,value:r.message,onChange:l=>d({...r,message:l.target.value}),rows:6,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:x,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 font-bold rounded-xl hover:bg-gray-200 transition-colors",children:"Há»§y"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors",children:t?"Cáº­p nháº­t":"Táº¡o má»›i"})]})]})};export{D as default};
