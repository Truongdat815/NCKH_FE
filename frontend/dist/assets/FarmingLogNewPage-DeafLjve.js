import{j as e,P as f,H as y,aw as v,ax as j,ay as w,az as N,aA as k,_ as m,q as F,u as R}from"./dashboard-C0zXrU1t.js";import{b as T,r as g,L as x}from"./react-vendor-D1TcphUO.js";import{L as $}from"./ai-service-BGBwrMu5.js";import"./utils-vendor-D7BOParW.js";const D=()=>{const h=T(),{showSuccess:n,showError:i}=R(),[d,c]=g.useState(!1),[r,s]=g.useState({activity:"",type:"fertilizer",date:new Date().toISOString().split("T")[0],location:"",details:"",images:[]}),u=[{value:"fertilizer",label:"B√≥n ph√¢n",icon:v,color:"bg-blue-500"},{value:"water",label:"T∆∞·ªõi n∆∞·ªõc",icon:j,color:"bg-cyan-500"},{value:"pest",label:"Ph√≤ng tr·ª´ s√¢u b·ªánh",icon:w,color:"bg-red-500"},{value:"harvest",label:"Thu ho·∫°ch",icon:"üåæ",color:"bg-yellow-500"},{value:"other",label:"Kh√°c",icon:"üìù",color:"bg-gray-500"}],b=async a=>{if(a.preventDefault(),!r.activity.trim()){i("Vui l√≤ng nh·∫≠p t√™n ho·∫°t ƒë·ªông");return}c(!0),setTimeout(()=>{c(!1),n("T·∫°o nh·∫≠t k√Ω th√†nh c√¥ng!"),h("/farming-log")},1500)},p=a=>{var o;const t=(o=a.target.files)==null?void 0:o[0];if(t){if(t.size>10*1024*1024){i("K√≠ch th∆∞·ªõc file kh√¥ng ƒë∆∞·ª£c v∆∞·ª£t qu√° 10MB");return}const l=new FileReader;l.onloadend=()=>{s({...r,images:[...r.images,l.result]}),n("T·∫£i ·∫£nh th√†nh c√¥ng!")},l.readAsDataURL(t)}};return e.jsx(f,{children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(x,{to:"/farming-log",className:"p-2 rounded-xl hover:bg-gray-50 transition-colors duration-200 shadow-sm border border-gray-100 hover:scale-110 active:scale-95",children:e.jsx(y,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 tracking-tight",children:"T·∫°o Nh·∫≠t K√Ω M·ªõi"}),e.jsx("p",{className:"text-gray-400 font-bold uppercase tracking-wider text-xs mt-1",children:"Ghi l·∫°i ho·∫°t ƒë·ªông canh t√°c"})]})]}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-wider mb-4",children:"Lo·∫°i ho·∫°t ƒë·ªông"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3",children:u.map(a=>{const t=typeof a.icon=="string"?null:a.icon;return e.jsxs("button",{type:"button",onClick:()=>s({...r,type:a.value}),className:`p-4 rounded-2xl border-2 transition-all duration-300 ${r.type===a.value?"border-emerald-500 bg-emerald-50 scale-105":"border-gray-200 bg-gray-50 hover:border-emerald-200 hover:bg-emerald-50/50"}`,children:[t?e.jsx(t,{className:`w-8 h-8 mx-auto mb-2 ${r.type===a.value?"text-emerald-600":"text-gray-400"}`}):e.jsx("span",{className:"text-3xl block mb-2",children:a.icon}),e.jsx("p",{className:`text-xs font-bold ${r.type===a.value?"text-emerald-700":"text-gray-600"}`,children:a.label})]},a.value)})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-wider mb-3",children:"T√™n ho·∫°t ƒë·ªông"}),e.jsx("input",{type:"text",value:r.activity,onChange:a=>s({...r,activity:a.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 focus:bg-white transition-all duration-200 text-base font-medium outline-none",placeholder:"V√≠ d·ª•: B√≥n ph√¢n th√∫c ƒë·ª£t 2",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-wider mb-3",children:[e.jsx(N,{className:"w-4 h-4 inline mr-2"}),"Ng√†y th·ª±c hi·ªán"]}),e.jsx("input",{type:"date",value:r.date,onChange:a=>s({...r,date:a.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 focus:bg-white transition-all duration-200 text-base font-medium outline-none",required:!0})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-wider mb-3",children:[e.jsx(k,{className:"w-4 h-4 inline mr-2"}),"V·ªã tr√≠"]}),e.jsx("input",{type:"text",value:r.location,onChange:a=>s({...r,location:a.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 focus:bg-white transition-all duration-200 text-base font-medium outline-none",placeholder:"V√≠ d·ª•: C√°nh ƒë·ªìng A, Khu v·ª±c 1"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-wider mb-3",children:"Chi ti·∫øt"}),e.jsx("textarea",{value:r.details,onChange:a=>s({...r,details:a.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 focus:bg-white transition-all duration-200 text-base font-medium outline-none resize-none h-32",placeholder:"M√¥ t·∫£ chi ti·∫øt v·ªÅ ho·∫°t ƒë·ªông n√†y..."})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-wider mb-3",children:[e.jsx(m,{className:"w-4 h-4 inline mr-2"}),"H√¨nh ·∫£nh (t√πy ch·ªçn)"]}),r.images.length>0?e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-3",children:r.images.map((a,t)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:a,alt:`Upload ${t+1}`,className:"w-full h-24 object-cover rounded-xl"}),e.jsx("button",{onClick:()=>s({...r,images:r.images.filter((o,l)=>l!==t)}),className:"absolute top-1 right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs",children:"√ó"})]},t))}):null,e.jsxs("label",{className:"border-2 border-dashed border-gray-200 rounded-2xl p-8 text-center hover:border-emerald-300 transition-colors duration-200 cursor-pointer group block",children:[e.jsx(m,{className:"w-12 h-12 mx-auto mb-3 text-gray-400 group-hover:text-emerald-500 transition-colors duration-200"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Nh·∫•p ƒë·ªÉ t·∫£i ·∫£nh l√™n"}),e.jsx("p",{className:"text-xs text-gray-400",children:"PNG, JPG l√™n ƒë·∫øn 10MB"}),e.jsx("input",{type:"file",accept:"image/*",onChange:p,className:"hidden",multiple:!0})]})]}),e.jsx("div",{className:"bg-gradient-to-br from-emerald-50 to-blue-50 p-6 rounded-3xl border border-emerald-100",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-600 rounded-2xl flex items-center justify-center flex-shrink-0",children:e.jsx(F,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"G·ª£i √Ω t·ª´ AI"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"D·ª±a tr√™n lo·∫°i ho·∫°t ƒë·ªông b·∫°n ch·ªçn, AI c√≥ th·ªÉ ƒë·ªÅ xu·∫•t c√°c th√¥ng tin ph√π h·ª£p."}),e.jsx("button",{type:"button",className:"text-sm font-bold text-emerald-600 hover:text-emerald-700 transition-colors duration-200",children:"Xem g·ª£i √Ω ‚Üí"})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(x,{to:"/farming-log",className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 font-bold rounded-2xl hover:bg-gray-200 transition-all duration-200 text-center",children:"H·ªßy"}),e.jsx("button",{type:"submit",disabled:d,className:"flex-1 group px-6 py-3 bg-emerald-600 text-white font-bold rounded-2xl shadow-xl shadow-emerald-200/50 hover:bg-emerald-700 hover:shadow-2xl transition-all duration-300 relative overflow-hidden disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx($,{size:"sm"}),e.jsx("span",{className:"relative z-10",children:"ƒêang l∆∞u..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"relative z-10",children:"L∆∞u Nh·∫≠t K√Ω"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-700 to-green-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})})]})]})]})})};export{D as default};
